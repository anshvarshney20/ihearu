{"ast":null,"code":"import React,{useState,useEffect}from'react';import DashboardNavbar from'./DashboardNavbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const PromoCodeManagement=()=>{const[data,setData]=useState([]);const[promoCodeForm,setPromoCodeForm]=useState({name:'',validFrom:'',validTo:'',discount:'',discountType:'',redeemableTime:''});const[searchQuery,setSearchQuery]=useState('');const[filteredData,setFilteredData]=useState([]);const[startDate,setStartDate]=useState('');const[toggle,setoggle]=useState(false);const[endDate,setEndDate]=useState('');const handleStartDateChange=event=>{setStartDate(event.target.value);};const handleEndDateChange=event=>{setEndDate(event.target.value);};const handleSearchs=()=>{// Filter data based on date range\nconst filtered=data.filter(item=>{// Check if item is defined and has the updatedAt property\nif(item&&item.updatedAt){const itemDate=new Date(item.updatedAt);const start=startDate?new Date(startDate):null;const end=endDate?new Date(endDate):null;// Function to format date as yyyy-mm-dd\nconst formatDate=date=>{const year=date.getFullYear();const month=String(date.getMonth()+1).padStart(2,'0');const day=String(date.getDate()).padStart(2,'0');return\"\".concat(year,\"-\").concat(month,\"-\").concat(day);};return(!start||formatDate(itemDate)>=formatDate(start))&&(!end||formatDate(itemDate)<=formatDate(end));}return false;// Ignore undefined or items without updatedAt property\n});setFilteredData(filtered);};useEffect(()=>{handleSearchs();},[startDate,endDate,data]);const fetchPromocode=async()=>{try{const authToken=localStorage.getItem('access');if(!authToken){throw new Error('Authentication token not found');}const headers={'x-auth-token-admin':authToken};const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/admin/getAllPromocodes\"),{method:'POST',headers:{...headers,'Content-Type':'application/json'}});if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}const userData=await response.json();setData(userData.results.promocodes);}catch(error){console.error('Error fetching promo codes:',error);// Handle errors accordingly\n}};useEffect(()=>{fetchPromocode();},[]);const formatDate=dateString=>{const options={day:'numeric',month:'numeric',year:'2-digit'};return new Date(dateString).toLocaleDateString('en-GB',options);};const handleInputChange=e=>{const{name,value}=e.target;setPromoCodeForm({...promoCodeForm,[name]:value});};const discount_toogle=()=>{setoggle(prevToggle=>!prevToggle);};const addPromocode=async e=>{e.preventDefault();try{const authToken=localStorage.getItem('access');if(!authToken){throw new Error('Authentication token not found');}// Validate the \"validFrom\" field\nif(!promoCodeForm.validFrom){throw new Error('Please provide a valid start date');}// Format the date fields as \"YYYY-MM-DD\"\nconst formattedvalidFrom=new Date(promoCodeForm.validFrom).toISOString().split('T')[0];const formattedvalidTo=promoCodeForm.validTo?new Date(promoCodeForm.validTo).toISOString().split('T')[0]:null;// Convert discount to integer\nconst discount=parseInt(promoCodeForm.discount,10);const headers={'x-auth-token-admin':authToken,'Content-Type':'application/json'};const requestBody={...promoCodeForm,validFrom:formattedvalidFrom,validTo:formattedvalidTo,discount:discount,discountType:toggle?'Percent':'Amount',redeemableTime:promoCodeForm.redeemableTime};const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/admin/addPromocode\"),{method:'POST',headers,body:JSON.stringify(requestBody)});if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}const result=await response.json();// Optionally, update the data state with the new promo code\nsetData([...data,result.results.promocode]);// Clear the form fields\nsetPromoCodeForm({name:'',validFrom:'',validTo:'',discount:'',discountType:'',redeemableTime:''});}catch(error){console.error('Error adding promo code:',error.message);if(error.response){console.error('Server Error Data:',error.response.data);console.error('Server Error Status:',error.response.status);console.error('Server Error Headers:',error.response.headers);}else if(error.request){console.error('No Response Received');console.error('Request Data:',error.request);}else{console.error('Error Message:',error.message);}}};const handleSearchChange=e=>{setSearchQuery(e.target.value);};const delete_promocode=async _id=>{try{const authToken=localStorage.getItem('access');if(!authToken){throw new Error('Authentication token not found');}const headers={'x-auth-token-admin':authToken,'Content-Type':'application/json'};const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/admin/deletePromocode/\").concat(_id),{method:'GET',// Use POST or another appropriate method\nheaders:headers});if(!response.ok){const errorData=await response.json();console.error('Error deleting promocode:',errorData);// Handle errors accordingly\nreturn;}// Handle successful deletion if needed\nconsole.log('Promocode deleted successfully!');// Fetch updated data after deleting the appointment\nfetchPromocode();}catch(error){console.error('Error deleting appointment:',error);// Handle errors accordingly\n}};const handleSearch=()=>{const filtered=filteredData.filter(item=>{// Check if item is defined and has the name property\nif(item&&item.name){return item.name.toLowerCase().includes(searchQuery.toLowerCase());}return false;// Ignore undefined or items without name property\n});setFilteredData(filtered);};useEffect(()=>{handleSearch();},[searchQuery,data]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin_main\",children:[/*#__PURE__*/_jsx(DashboardNavbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"admin_panel_data height_adjust\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mx-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 design_outter_comman shadow mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row comman_header justify-content-between\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Add Promo Code\"})})}),/*#__PURE__*/_jsxs(\"form\",{class:\"form-design py-4 px-3 help-support-form row align-items-end justify-content-between\",onSubmit:addPromocode,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Promo Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"name\",value:promoCodeForm.name,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group col-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row align-items-end\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Number of Redeemable Times\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"redeemableTime\",value:promoCodeForm.redeemableTime,onChange:handleInputChange,class:\"form-control\"})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"validFrom\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:promoCodeForm.validFrom,onChange:handleInputChange,name:\"validFrom\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"validTo\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:promoCodeForm.validTo,onChange:handleInputChange,name:\"validTo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-0 col\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"Menu1\",className:\"col form-group position-relative percentage_icons mb-0\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Choose Discount Type :\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-check-inline\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",onClick:discount_toogle,name:\"Amount\",id:\"flexRadioDefault1\",checked:!toggle}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault1\",children:\"Flat Amount off\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-check-inline\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",onClick:discount_toogle,type:\"radio\",name:\"Percent\",id:\"flexRadioDefault2\",checked:toggle}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexRadioDefault2\",children:\"Flat Discount % off\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"Menu2\",class:\"form-group mb-0 col\",style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Fixed  Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",value:\"\",name:\"name\",id:\"name\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group mb-0 col\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:toggle?'Discount %':'Amount'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:promoCodeForm.discount,onChange:handleInputChange,name:\"discount\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group mb-0 col-2\",children:/*#__PURE__*/_jsx(\"button\",{class:\"comman_btn d-flex w-100\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Add\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 design_outter_comman shadow mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row comman_header justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Promocode Management\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-3\",children:/*#__PURE__*/_jsx(\"form\",{class:\"form-design\",action:\"\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group mb-0 position-relative icons_set\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"Search\",value:searchQuery,onChange:handleSearchChange,name:\"name\",id:\"name\"}),/*#__PURE__*/_jsx(\"i\",{class:\"far fa-search\"})]})})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-design py-4 px-3 help-support-form row align-items-end justify-content-between\",action:\"\",onSubmit:e=>{e.preventDefault();handleSearch();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-0 col-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:startDate,onChange:handleStartDateChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-0 col-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:endDate,onChange:handleEndDateChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-0 col-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"comman_btn d-flex w-100\",type:\"submit\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Search\"})})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-12 comman_table_design px-0\",children:/*#__PURE__*/_jsx(\"div\",{class:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Promo code Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Discount Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Discount Value\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Start Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"End Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Number of Redeemable Times\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.discountType}),/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.discount}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(item===null||item===void 0?void 0:item.validFrom)}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(item===null||item===void 0?void 0:item.validTo)}),/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.redeemableTime}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"comman_btn bg-danger table_viewbtn ms-1\",href:\"javascript:;\",onClick:()=>delete_promocode(item===null||item===void 0?void 0:item._id),children:/*#__PURE__*/_jsx(\"span\",{children:\"Delete\"})})})]},index))})]})})})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 design_outter_comman shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row comman_header justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Redemption History\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-3\",children:/*#__PURE__*/_jsx(\"form\",{class:\"form-design\",action:\"\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group mb-0 position-relative icons_set\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"Search\",name:\"name\",id:\"name\"}),/*#__PURE__*/_jsx(\"i\",{class:\"far fa-search\"})]})})})]}),/*#__PURE__*/_jsxs(\"form\",{class:\"form-design py-4 px-3 help-support-form row align-items-end justify-content-between\",action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group mb-0 col-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",class:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group mb-0 col-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",class:\"form-control\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group mb-0 col-2\",children:/*#__PURE__*/_jsx(\"button\",{class:\"comman_btn d-flex w-100\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Search\"})})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-12 comman_table_design px-0\",children:/*#__PURE__*/_jsx(\"div\",{class:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Promo code Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Number of %\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Start Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"End Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Number of Redeemable Times\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Booking Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Jennifer Garcia\"}),/*#__PURE__*/_jsx(\"td\",{children:\"IHearUBeta2024\"}),/*#__PURE__*/_jsx(\"td\",{children:\"5\"}),/*#__PURE__*/_jsx(\"td\",{children:\"01/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"10/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"60\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Stress\"}),/*#__PURE__*/_jsx(\"td\",{children:\"100 SGD\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{class:\"comman_btn bg-danger table_viewbtn ms-1\",href:\"javascript:;\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Delete\"})})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"2\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Jennifer Garcia\"}),/*#__PURE__*/_jsx(\"td\",{children:\"IHearUBeta2024\"}),/*#__PURE__*/_jsx(\"td\",{children:\"5\"}),/*#__PURE__*/_jsx(\"td\",{children:\"01/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"10/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"60\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Stress\"}),/*#__PURE__*/_jsx(\"td\",{children:\"100 SGD\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{class:\"comman_btn bg-danger table_viewbtn ms-1\",href:\"javascript:;\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Delete\"})})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"3\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Jennifer Garcia\"}),/*#__PURE__*/_jsx(\"td\",{children:\"IHearUBeta2024\"}),/*#__PURE__*/_jsx(\"td\",{children:\"5\"}),/*#__PURE__*/_jsx(\"td\",{children:\"01/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"10/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"60\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Worried \\uFE0F\"}),/*#__PURE__*/_jsx(\"td\",{children:\"100 SGD\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{class:\"comman_btn bg-danger table_viewbtn ms-1\",href:\"javascript:;\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Delete\"})})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"4\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Jennifer Garcia\"}),/*#__PURE__*/_jsx(\"td\",{children:\"IHearUBeta2024\"}),/*#__PURE__*/_jsx(\"td\",{children:\"5\"}),/*#__PURE__*/_jsx(\"td\",{children:\"01/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"10/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"60\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Lonely\"}),/*#__PURE__*/_jsx(\"td\",{children:\"100 SGD\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{class:\"comman_btn bg-danger table_viewbtn ms-1\",href:\"javascript:;\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Delete\"})})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"5\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Jennifer Garcia\"}),/*#__PURE__*/_jsx(\"td\",{children:\"IHearUBeta2024\"}),/*#__PURE__*/_jsx(\"td\",{children:\"5\"}),/*#__PURE__*/_jsx(\"td\",{children:\"01/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"10/07/2022\"}),/*#__PURE__*/_jsx(\"td\",{children:\"60\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Angry\"}),/*#__PURE__*/_jsx(\"td\",{children:\"100 SGD\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{class:\"comman_btn bg-danger table_viewbtn ms-1\",href:\"javascript:;\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Delete\"})})})]})]})]})})})})]})]})})]})});};export default PromoCodeManagement;","map":{"version":3,"names":["React","useState","useEffect","DashboardNavbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PromoCodeManagement","data","setData","promoCodeForm","setPromoCodeForm","name","validFrom","validTo","discount","discountType","redeemableTime","searchQuery","setSearchQuery","filteredData","setFilteredData","startDate","setStartDate","toggle","setoggle","endDate","setEndDate","handleStartDateChange","event","target","value","handleEndDateChange","handleSearchs","filtered","filter","item","updatedAt","itemDate","Date","start","end","formatDate","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","concat","fetchPromocode","authToken","localStorage","getItem","Error","headers","response","fetch","process","env","REACT_APP_API_URL","method","ok","status","userData","json","results","promocodes","error","console","dateString","options","toLocaleDateString","handleInputChange","e","discount_toogle","prevToggle","addPromocode","preventDefault","formattedvalidFrom","toISOString","split","formattedvalidTo","parseInt","requestBody","body","JSON","stringify","result","promocode","message","request","handleSearchChange","delete_promocode","_id","errorData","log","handleSearch","toLowerCase","includes","children","className","class","onSubmit","for","type","onChange","htmlFor","id","onClick","checked","style","display","action","placeholder","map","index","href"],"sources":["D:/Tech Gropes/ihearu/src/Pages/Dashboard_Components/PromoCodeManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport DashboardNavbar from './DashboardNavbar';\r\n\r\nconst PromoCodeManagement = () => {\r\n  const [data, setData] = useState([]);\r\n  const [promoCodeForm, setPromoCodeForm] = useState({\r\n    name: '',\r\n    validFrom: '',\r\n    validTo: '',\r\n    discount: '',\r\n    discountType: '',\r\n    redeemableTime: ''\r\n  });\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [startDate, setStartDate] = useState('');\r\n  const [toggle, setoggle] = useState(false)\r\n  const [endDate, setEndDate] = useState('');\r\n\r\n  const handleStartDateChange = (event) => {\r\n    setStartDate(event.target.value);\r\n  };\r\n\r\n  const handleEndDateChange = (event) => {\r\n    setEndDate(event.target.value);\r\n  };\r\n\r\n  const handleSearchs = () => {\r\n    // Filter data based on date range\r\n    const filtered = data.filter((item) => {\r\n      // Check if item is defined and has the updatedAt property\r\n      if (item && item.updatedAt) {\r\n        const itemDate = new Date(item.updatedAt);\r\n        const start = startDate ? new Date(startDate) : null;\r\n        const end = endDate ? new Date(endDate) : null;\r\n\r\n        // Function to format date as yyyy-mm-dd\r\n        const formatDate = (date) => {\r\n          const year = date.getFullYear();\r\n          const month = String(date.getMonth() + 1).padStart(2, '0');\r\n          const day = String(date.getDate()).padStart(2, '0');\r\n          return `${year}-${month}-${day}`;\r\n        };\r\n\r\n        return (\r\n          (!start || formatDate(itemDate) >= formatDate(start)) &&\r\n          (!end || formatDate(itemDate) <= formatDate(end))\r\n        );\r\n      }\r\n      return false; // Ignore undefined or items without updatedAt property\r\n    });\r\n\r\n    setFilteredData(filtered);\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    handleSearchs();\r\n  }, [startDate, endDate, data]);\r\n  const fetchPromocode = async () => {\r\n    try {\r\n      const authToken = localStorage.getItem('access');\r\n      if (!authToken) {\r\n        throw new Error('Authentication token not found');\r\n      }\r\n\r\n      const headers = {\r\n        'x-auth-token-admin': authToken,\r\n      };\r\n\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/admin/getAllPromocodes`, {\r\n        method: 'POST',\r\n        headers: {\r\n          ...headers,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      const userData = await response.json();\r\n      setData(userData.results.promocodes);\r\n    } catch (error) {\r\n      console.error('Error fetching promo codes:', error);\r\n      // Handle errors accordingly\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    fetchPromocode();\r\n  }, []);\r\n\r\n  const formatDate = (dateString) => {\r\n    const options = { day: 'numeric', month: 'numeric', year: '2-digit' };\r\n    return new Date(dateString).toLocaleDateString('en-GB', options);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setPromoCodeForm({\r\n      ...promoCodeForm,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const discount_toogle = () => {\r\n    setoggle((prevToggle) => !prevToggle);\r\n  }\r\n  const addPromocode = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const authToken = localStorage.getItem('access');\r\n      if (!authToken) {\r\n        throw new Error('Authentication token not found');\r\n      }\r\n\r\n      // Validate the \"validFrom\" field\r\n      if (!promoCodeForm.validFrom) {\r\n        throw new Error('Please provide a valid start date');\r\n      }\r\n\r\n      // Format the date fields as \"YYYY-MM-DD\"\r\n      const formattedvalidFrom = new Date(promoCodeForm.validFrom).toISOString().split('T')[0];\r\n      const formattedvalidTo = promoCodeForm.validTo\r\n        ? new Date(promoCodeForm.validTo).toISOString().split('T')[0]\r\n        : null;\r\n\r\n      // Convert discount to integer\r\n      const discount = parseInt(promoCodeForm.discount, 10);\r\n\r\n      const headers = {\r\n        'x-auth-token-admin': authToken,\r\n        'Content-Type': 'application/json',\r\n      };\r\n\r\n      const requestBody = {\r\n        ...promoCodeForm,\r\n        validFrom: formattedvalidFrom,\r\n        validTo: formattedvalidTo,\r\n        discount: discount,\r\n        discountType: toggle ? 'Percent' : 'Amount',\r\n        redeemableTime: promoCodeForm.redeemableTime,\r\n      };\r\n\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/admin/addPromocode`, {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify(requestBody),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n\r\n      // Optionally, update the data state with the new promo code\r\n      setData([...data, result.results.promocode]);\r\n\r\n      // Clear the form fields\r\n      setPromoCodeForm({\r\n        name: '',\r\n        validFrom: '',\r\n        validTo: '',\r\n        discount: '',\r\n        discountType: '',\r\n        redeemableTime: ''\r\n      });\r\n    } catch (error) {\r\n      console.error('Error adding promo code:', error.message);\r\n      if (error.response) {\r\n        console.error('Server Error Data:', error.response.data);\r\n        console.error('Server Error Status:', error.response.status);\r\n        console.error('Server Error Headers:', error.response.headers);\r\n      } else if (error.request) {\r\n        console.error('No Response Received');\r\n        console.error('Request Data:', error.request);\r\n      } else {\r\n        console.error('Error Message:', error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchQuery(e.target.value);\r\n  };\r\n  const delete_promocode = async (_id) => {\r\n    try {\r\n        const authToken = localStorage.getItem('access');\r\n        if (!authToken) {\r\n            throw new Error('Authentication token not found');\r\n        }\r\n\r\n        const headers = {\r\n            'x-auth-token-admin': authToken,\r\n            'Content-Type': 'application/json',\r\n        };\r\n\r\n\r\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/admin/deletePromocode/${_id}`, {\r\n            method: 'GET',  // Use POST or another appropriate method\r\n            headers: headers,\r\n        });\r\n\r\n        if (!response.ok) {\r\n            const errorData = await response.json();\r\n            console.error('Error deleting promocode:', errorData);\r\n            // Handle errors accordingly\r\n            return;\r\n        }\r\n\r\n        // Handle successful deletion if needed\r\n        console.log('Promocode deleted successfully!');\r\n\r\n        // Fetch updated data after deleting the appointment\r\nfetchPromocode();\r\n\r\n    } catch (error) {\r\n        console.error('Error deleting appointment:', error);\r\n        // Handle errors accordingly\r\n    }\r\n};\r\n\r\n  const handleSearch = () => {\r\n    const filtered = filteredData.filter((item) => {\r\n      // Check if item is defined and has the name property\r\n      if (item && item.name) {\r\n        return item.name.toLowerCase().includes(searchQuery.toLowerCase());\r\n      }\r\n      return false; // Ignore undefined or items without name property\r\n    });\r\n\r\n    setFilteredData(filtered);\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleSearch();\r\n  }, [searchQuery, data]);\r\n\r\n  return (\r\n    <>\r\n      <div className='admin_main'>\r\n        <DashboardNavbar />\r\n        <div className=\"admin_panel_data height_adjust\">\r\n          <div className=\"row mx-0\">\r\n            <div className=\"col-12 design_outter_comman shadow mb-4\">\r\n              <div className=\"row comman_header justify-content-between\">\r\n                <div className=\"col\">\r\n                  <h2>Add Promo Code</h2>\r\n                </div>\r\n              </div>\r\n              <form class=\"form-design py-4 px-3 help-support-form row align-items-end justify-content-between\" onSubmit={addPromocode}>\r\n                <div class=\"form-group col-6\">\r\n                  <label for=\"\">Promo Code</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"name\"\r\n                    value={promoCodeForm.name}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </div>\r\n                <div class=\"form-group col-6\">\r\n                  <div class=\"row align-items-end\">\r\n                    <label for=\"\">Number of Redeemable Times</label>\r\n                    <input type=\"text\" name='redeemableTime' value={promoCodeForm.redeemableTime}\r\n                      onChange={handleInputChange}\r\n                      class=\"form-control\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group col-6\">\r\n                  <label htmlFor=\"validFrom\">Start Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"form-control\"\r\n                    value={promoCodeForm.validFrom}\r\n                    onChange={handleInputChange}\r\n                    name=\"validFrom\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group col-6\">\r\n                  <label htmlFor=\"validTo\">End Date</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"form-control\"\r\n                    value={promoCodeForm.validTo}\r\n                    onChange={handleInputChange}\r\n                    name=\"validTo\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group mb-0 col\">\r\n                  <div id=\"Menu1\" className=\"col form-group position-relative percentage_icons mb-0\">\r\n                    <label htmlFor=\"\">Choose Discount Type :</label>\r\n                    <div className=\"form-check form-check-inline\">\r\n                      <input\r\n                        className=\"form-check-input\"\r\n                        type=\"radio\"\r\n                        onClick={discount_toogle}\r\n                        name=\"Amount\"\r\n                        id=\"flexRadioDefault1\"\r\n                        checked={!toggle}\r\n                      />\r\n                      <label className=\"form-check-label\" htmlFor=\"flexRadioDefault1\">\r\n                        Flat Amount off\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"form-check form-check-inline\">\r\n                      <input\r\n                        className=\"form-check-input\"\r\n                        onClick={discount_toogle}\r\n                        type=\"radio\"\r\n                        name=\"Percent\"\r\n                        id=\"flexRadioDefault2\"\r\n                        checked={toggle}\r\n                      />\r\n                      <label className=\"form-check-label\" htmlFor=\"flexRadioDefault2\">\r\n                        Flat Discount % off\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div id=\"Menu2\" class=\"form-group mb-0 col\" style={{ display: \"none\" }}>\r\n                    <label for=\"\">Fixed  Price</label>\r\n                    <input type=\"text\" class=\"form-control\" value=\"\" name=\"name\" id=\"name\" />\r\n                  </div>\r\n\r\n                </div>\r\n                <div class=\"form-group mb-0 col\">\r\n                  <label for=\"\">{toggle ? 'Discount %' : 'Amount'}</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    value={promoCodeForm.discount}\r\n                    onChange={handleInputChange}\r\n                    name=\"discount\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-group mb-0 col-2\">\r\n                  <button class=\"comman_btn d-flex w-100\"><span>Add</span></button>\r\n                </div>\r\n              </form>\r\n\r\n            </div>\r\n            <div class=\"col-12 design_outter_comman shadow mb-4\">\r\n              <div class=\"row comman_header justify-content-between\">\r\n                <div class=\"col\">\r\n                  <h2>Promocode Management</h2>\r\n                </div>\r\n                <div class=\"col-3\">\r\n                  <form class=\"form-design\" action=\"\">\r\n                    <div class=\"form-group mb-0 position-relative icons_set\">\r\n                      <input type=\"text\" class=\"form-control\" placeholder=\"Search\" value={searchQuery}\r\n                        onChange={handleSearchChange}\r\n                        name=\"name\" id=\"name\" />\r\n                      <i class=\"far fa-search\"></i>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n              <form className=\"form-design py-4 px-3 help-support-form row align-items-end justify-content-between\" action=\"\" onSubmit={(e) => { e.preventDefault(); handleSearch(); }}>\r\n                <div className=\"form-group mb-0 col-5\">\r\n                  <label htmlFor=\"\">From</label>\r\n                  <input type=\"date\" className=\"form-control\" value={startDate} onChange={handleStartDateChange} />\r\n                </div>\r\n                <div className=\"form-group mb-0 col-5\">\r\n                  <label htmlFor=\"\">To</label>\r\n                  <input type=\"date\" className=\"form-control\" value={endDate} onChange={handleEndDateChange} />\r\n                </div>\r\n                <div className=\"form-group mb-0 col-2\">\r\n                  <button className=\"comman_btn d-flex w-100\" type=\"submit\"><span>Search</span></button>\r\n                </div>\r\n              </form>\r\n              <div class=\"row\">\r\n                <div class=\"col-12 comman_table_design px-0\">\r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table mb-0\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>S.No.</th>\r\n                          <th>Promo code Name</th>\r\n                          <th>Discount Type</th>\r\n                          <th>Discount Value</th>\r\n                          <th>Start Date</th>\r\n                          <th>End Date</th>\r\n                          <th>Number of Redeemable Times</th>\r\n                          <th>Action</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {data.map((item, index) => (\r\n                          <tr key={index}>\r\n                            <td>{index + 1}</td>\r\n                            <td>{item?.name}</td>\r\n                            <td>{item?.discountType}</td>\r\n                            <td>{item?.discount}</td>\r\n                            <td>{formatDate(item?.validFrom)}</td>\r\n                            <td>{formatDate(item?.validTo)}</td>\r\n                            <td>{item?.redeemableTime}</td>\r\n                            <td>\r\n                              <a className=\"comman_btn bg-danger table_viewbtn ms-1\" href=\"javascript:;\" onClick={() => delete_promocode(item?._id)}\r\n                              ><span>Delete</span></a>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 design_outter_comman shadow\">\r\n              <div class=\"row comman_header justify-content-between\">\r\n                <div class=\"col\">\r\n                  <h2>Redemption History</h2>\r\n                </div>\r\n                <div class=\"col-3\">\r\n                  <form class=\"form-design\" action=\"\">\r\n                    <div class=\"form-group mb-0 position-relative icons_set\">\r\n                      <input type=\"text\" class=\"form-control\" placeholder=\"Search\" name=\"name\" id=\"name\" />\r\n                      <i class=\"far fa-search\"></i>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n              <form class=\"form-design py-4 px-3 help-support-form row align-items-end justify-content-between\" action=\"\">\r\n                <div class=\"form-group mb-0 col-5\">\r\n                  <label for=\"\">From</label>\r\n                  <input type=\"date\" class=\"form-control\" />\r\n                </div>\r\n                <div class=\"form-group mb-0 col-5\">\r\n                  <label for=\"\">To</label>\r\n                  <input type=\"date\" class=\"form-control\" />\r\n                </div>\r\n                <div class=\"form-group mb-0 col-2\">\r\n                  <button class=\"comman_btn d-flex w-100\"><span>Search</span></button>\r\n                </div>\r\n              </form>\r\n              <div class=\"row\">\r\n                <div class=\"col-12 comman_table_design px-0\">\r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table mb-0\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>S.No.</th>\r\n                          <th>User Name</th>\r\n                          <th>Promo code Name</th>\r\n                          <th>Number of %</th>\r\n                          <th>Start Date</th>\r\n                          <th>End Date</th>\r\n                          <th>Number of Redeemable Times</th>\r\n                          <th>Booking Name</th>\r\n                          <th>Amount</th>\r\n                          <th>Action</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr>\r\n                          <td>1</td>\r\n                          <td>Jennifer Garcia</td>\r\n                          <td>IHearUBeta2024</td>\r\n                          <td>5</td>\r\n                          <td>01/07/2022</td>\r\n                          <td>10/07/2022</td>\r\n                          <td>60</td>\r\n                          <td>Stress</td>\r\n                          <td>100 SGD</td>\r\n                          <td>\r\n                            <a class=\"comman_btn bg-danger table_viewbtn ms-1\" href=\"javascript:;\"><span>Delete</span></a>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>2</td>\r\n                          <td>Jennifer Garcia</td>\r\n                          <td>IHearUBeta2024</td>\r\n                          <td>5</td>\r\n                          <td>01/07/2022</td>\r\n                          <td>10/07/2022</td>\r\n                          <td>60</td>\r\n                          <td>Stress</td>\r\n                          <td>100 SGD</td>\r\n                          <td>\r\n                            <a class=\"comman_btn bg-danger table_viewbtn ms-1\" href=\"javascript:;\"><span>Delete</span></a>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>3</td>\r\n                          <td>Jennifer Garcia</td>\r\n                          <td>IHearUBeta2024</td>\r\n                          <td>5</td>\r\n                          <td>01/07/2022</td>\r\n                          <td>10/07/2022</td>\r\n                          <td>60</td>\r\n                          <td>Worried ️</td>\r\n                          <td>100 SGD</td>\r\n                          <td>\r\n                            <a class=\"comman_btn bg-danger table_viewbtn ms-1\" href=\"javascript:;\"><span>Delete</span></a>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>4</td>\r\n                          <td>Jennifer Garcia</td>\r\n                          <td>IHearUBeta2024</td>\r\n                          <td>5</td>\r\n                          <td>01/07/2022</td>\r\n                          <td>10/07/2022</td>\r\n                          <td>60</td>\r\n                          <td>Lonely</td>\r\n                          <td>100 SGD</td>\r\n                          <td>\r\n                            <a class=\"comman_btn bg-danger table_viewbtn ms-1\" href=\"javascript:;\"><span>Delete</span></a>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>5</td>\r\n                          <td>Jennifer Garcia</td>\r\n                          <td>IHearUBeta2024</td>\r\n                          <td>5</td>\r\n                          <td>01/07/2022</td>\r\n                          <td>10/07/2022</td>\r\n                          <td>60</td>\r\n                          <td>Angry</td>\r\n                          <td>100 SGD</td>\r\n                          <td>\r\n                            <a class=\"comman_btn bg-danger table_viewbtn ms-1\" href=\"javascript:;\"><span>Delete</span></a>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div >\r\n      </div >\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PromoCodeManagement"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}