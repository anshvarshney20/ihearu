{"ast":null,"code":"import React from'react';import DashboardNavbar from'./DashboardNavbar';import{useNavigate,useParams}from'react-router-dom';import{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ViewAppointment=()=>{var _data$caller,_data$listener;const navigate=useNavigate();const{_id}=useParams();const[data,setData]=useState({});const apiBaseUrl=process.env.REACT_APP_API_URL;useEffect(()=>{const authToken=localStorage.getItem('access');if(!authToken){navigate('/');// Redirect to login or any other page if not authenticated\n}},[navigate]);useEffect(()=>{const fetchSession=async()=>{try{const authToken=localStorage.getItem('access');if(!authToken){throw new Error('Authentication token not found');}const headers={'x-auth-token-admin':authToken};const response=await axios.get(\"\".concat(apiBaseUrl,\"/api/admin/viewSession/\").concat(_id),{headers});console.log(response.data.results);setData(response.data.results.session);}catch(error){console.error('Error fetching user data:',error);throw error;}};fetchSession();},[_id]);const formatDate=dateString=>{const options={day:'numeric',month:'numeric',year:'2-digit'};return new Date(dateString).toLocaleDateString('en-GB',options);};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin_main\",children:[/*#__PURE__*/_jsx(DashboardNavbar,{}),/*#__PURE__*/_jsx(\"div\",{class:\"admin_panel_data height_adjust\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row mx-0\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 design_outter_comman shadow\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row comman_header justify-content-between\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Appointment Booking Details\"})})}),/*#__PURE__*/_jsxs(\"form\",{class:\"form-design py-4 px-4 row\",action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:data===null||data===void 0?void 0:(_data$caller=data.caller)===null||_data$caller===void 0?void 0:_data$caller.fullName})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:data===null||data===void 0?void 0:data.amount})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Listener Name\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:data===null||data===void 0?void 0:(_data$listener=data.listener)===null||_data$listener===void 0?void 0:_data$listener.fullName})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Date and Time\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:formatDate(data===null||data===void 0?void 0:data.date)})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Category of Issue\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:\"Stress\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Appointment Status\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:data===null||data===void 0?void 0:data.status})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Appointment Duration\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:data===null||data===void 0?void 0:data.time})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Mode Of Communication\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:data===null||data===void 0?void 0:data.communicationType})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"\",children:\"Hear Me Out Details\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"text\",class:\"form-control\",value:\"lorem\"})]})]})]})})})]});};export default ViewAppointment;","map":{"version":3,"names":["React","DashboardNavbar","useNavigate","useParams","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ViewAppointment","_data$caller","_data$listener","navigate","_id","data","setData","apiBaseUrl","process","env","REACT_APP_API_URL","authToken","localStorage","getItem","fetchSession","Error","headers","response","get","concat","console","log","results","session","error","formatDate","dateString","options","day","month","year","Date","toLocaleDateString","className","children","class","action","for","disabled","type","value","caller","fullName","amount","listener","date","status","time","communicationType"],"sources":["D:/Tech Gropes/ihearu/src/Pages/Dashboard_Components/ViewAppointment.jsx"],"sourcesContent":["import React from 'react'\r\nimport DashboardNavbar from './DashboardNavbar'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nconst ViewAppointment = () => {\r\n  const navigate = useNavigate()\r\n  const { _id } = useParams();\r\n  const [data, setData] = useState({});\r\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\r\n  useEffect(() => {\r\n    const authToken = localStorage.getItem('access');\r\n    if (!authToken) {\r\n        navigate('/'); // Redirect to login or any other page if not authenticated\r\n    }\r\n}, [navigate]);\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      try {\r\n        const authToken = localStorage.getItem('access');\r\n\r\n        if (!authToken) {\r\n          throw new Error('Authentication token not found');\r\n        }\r\n\r\n        const headers = {\r\n          'x-auth-token-admin': authToken,\r\n        };\r\n\r\n        const response = await axios.get(`${apiBaseUrl}/api/admin/viewSession/${_id}`, {\r\n          headers,\r\n        });\r\n        console.log(response.data.results);\r\n        setData(response.data.results.session);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n        throw error;\r\n      }\r\n    };\r\n   \r\n    fetchSession();\r\n  }, [_id]);\r\n  const formatDate = (dateString) => {\r\n    const options = { day: 'numeric', month: 'numeric', year: '2-digit' };\r\n    return new Date(dateString).toLocaleDateString('en-GB', options);\r\n  };\r\n\r\n  return (\r\n    <div className='admin_main'>\r\n      <DashboardNavbar />\r\n      <div class=\"admin_panel_data height_adjust\">\r\n        <div class=\"row mx-0\">\r\n          <div class=\"col-12 design_outter_comman shadow\">\r\n            <div class=\"row comman_header justify-content-between\">\r\n              <div class=\"col\">\r\n                <h2>Appointment Booking Details</h2>\r\n              </div>\r\n            </div>\r\n            <form class=\"form-design py-4 px-4 row\" action=\"\">\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Username</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value={data?.caller?.fullName} />\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Price</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value={data?.amount} />\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Listener Name</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value={data?.listener?.fullName} />\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Date and Time</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value={formatDate(data?.date)} />\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Category of Issue</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value=\"Stress\" />\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Appointment Status</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value={data?.status} />\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Appointment Duration</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value={data?.time} />\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Mode Of Communication</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value={data?.communicationType} />\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"\">Hear Me Out Details</label>\r\n                <input disabled type=\"text\" class=\"form-control\" value=\"lorem\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ViewAppointment"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}